(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{3531:function(e,t,n){Promise.resolve().then(n.bind(n,6717))},5406:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(7437),s=n(2265),r=s.forwardRef(function({control:e,...t},n){let r=s.useRef(null);return s.useLayoutEffect(()=>{let t=r.current;if(!t)return;if(customElements.get("openai-chatkit")){t.setOptions(e.options);return}let n=!0;return customElements.whenDefined("openai-chatkit").then(()=>{n&&t.setOptions(e.options)}),()=>{n=!1}},[e.options]),(0,a.jsx)("openai-chatkit",{ref:t=>{if(r.current=t,e.setInstance(t),"function"==typeof n?n(t):n&&(n.current=t),!r.current)return;let a={"chatkit.error":"onError","chatkit.response.end":"onResponseEnd","chatkit.response.start":"onResponseStart","chatkit.log":"onLog","chatkit.thread.change":"onThreadChange","chatkit.thread.load.start":"onThreadLoadStart","chatkit.thread.load.end":"onThreadLoadEnd"};for(let t of Object.keys(a))r.current.addEventListener(t,n=>{let s=e.handlers[a[t]];"function"==typeof s&&s(n.detail)})},...t})});function l(e){return null!==e&&"object"==typeof e&&[null,Object.prototype].includes(Object.getPrototypeOf(e))||Array.isArray(e)}var i=Object.freeze(["focusComposer","setThreadId","sendUserMessage","setComposerValue","fetchUpdates","sendCustomAction"]),o=n(357);function c(){let e=o.env.NEXT_PUBLIC_CHATKIT_WORKFLOW_ID||o.env.NEXT_PUBLIC_CHATKIT_WORKFLOW||void 0,t=o.env.NEXT_PUBLIC_CHATKIT_WORKFLOW_VERSION||void 0,n=(0,s.useMemo)(()=>{try{var e,t;let n="chatkit_device_id",a=localStorage.getItem(n);if(a)return a;let s=(null===(t=crypto)||void 0===t?void 0:null===(e=t.randomUUID)||void 0===e?void 0:e.call(t))||Math.random().toString(36).slice(2);return localStorage.setItem(n,s),s}catch(e){return"anon"}},[]),{control:c}=function(e){let t=s.useRef(null),n=function(e){let t=s.useRef(e);t.current=e;let n=s.useRef(null);return n.current&&function e(t,n,a=new WeakMap){if(Object.is(t,n))return!0;if("function"==typeof t&&"function"==typeof n)return typeof t==typeof n;if(!l(t)||!l(n))return!1;let s=a.get(t);if(s&&s===n)return!0;if(a.set(t,n),Array.isArray(t)||Array.isArray(n)){if(!Array.isArray(t)||!Array.isArray(n)||t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(!e(t[s],n[s],a))return!1;return!0}let r=Object.keys(t),i=Object.keys(n);if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++){let l=r[s];if(!Object.prototype.hasOwnProperty.call(n,l)||!e(t[l],n[l],a))return!1}return!0}(n.current.snapshot,e)||(n.current={snapshot:e,shaped:function(e){let t=[],n=(e,t)=>t.reduce((e,t)=>null==e?e:e[t],e),a=(t,a)=>(...s)=>{let r=n(e.current,t),l=r?.[a];if("function"==typeof l)return l.apply(r,s)},s=e=>{if("function"==typeof e){let e=t[t.length-1];return a(t.slice(0,-1),e)}if(Array.isArray(e)){let n=t.length,a=Array(e.length);for(let r=0;r<e.length;r++)t[n]=r,a[r]=s(e[r]);return t.length=n,a}if(e&&"object"==typeof e){let n=t.length,a={};for(let r of Object.keys(e))t[n]=r,a[r]=s(e[r]);return t.length=n,a}return e};return s(e.current)}(t)}),n.current.shaped}(e),a=s.useMemo(()=>i.reduce((e,n)=>(e[n]=(...e)=>{if(!t.current){console.warn("ChatKit element is not mounted");return}return t.current[n](...e)},e),{}),[]),r=s.useCallback(e=>{t.current=e},[]),o=s.useMemo(()=>{let e={},t={};for(let[a,s]of Object.entries(n))/^on[A-Z]/.test(a)&&"onClientTool"!==a?t[a]=s:e[a]=s;return{setInstance:r,options:e,handlers:t}},[n,r]);return s.useMemo(()=>({...a,control:o,ref:t}),[a,o])}({api:{getClientSecret:async function(a){let s=o.env.NEXT_PUBLIC_API_BASE_URL||"",r=await fetch("".concat(s,"/api/chatkit/session"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:n,workflow_id:e,version:t})});if(!r.ok)throw console.error("ChatKit session fetch failed",r.status),Error("ChatKit session HTTP ".concat(r.status));let l=await r.json();if(!(null==l?void 0:l.client_secret)){let e=l&&(l.error||l.details)?JSON.stringify(l):"missing client_secret";throw console.error("ChatKit missing client_secret",e),Error("ChatKit session error: ".concat(e))}return null==l?void 0:l.client_secret}},theme:{colorScheme:"light",radius:"pill",density:"normal",typography:{baseSize:16,fontFamily:'"OpenAI Sans", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif',fontFamilyMono:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace',fontSources:[{family:"OpenAI Sans",src:"https://cdn.openai.com/common/fonts/openai-sans/v2/OpenAISans-Regular.woff2",weight:400,style:"normal",display:"swap"}]}},composer:{attachments:{enabled:!0,maxCount:5,maxSize:10485760},tools:[{id:"search_docs",label:"Search docs",shortLabel:"Docs",placeholderOverride:"Search documentation",icon:"book-open",pinned:!1}]},startScreen:{greeting:"",prompts:[{icon:"circle-question",label:"What is ChatKit?",prompt:"What is ChatKit?"}]}});return(0,a.jsx)("div",{className:"w-full flex items-center justify-center relative z-50 pointer-events-auto isolate",children:(0,a.jsx)(r,{control:c,className:"h-[640px] w-full max-w-[480px] bg-white"})})}},6717:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var a=n(7437),s=n(2265),r=n(495),l=n(6013),i=n(3102),o=n(3146),c=n(4693),d=n(5273),u=n(7776),p=n(7164),f=n(8184),m=n(3274),h=n(2140),x=n(8400),g=n(1773),y=n(404),j=n(3907),v=n(8472),b=n(6264),w=n(5406),N=n(357);let _={primary:"#004AAD",primarySoft:"#E8F0FF"},k={angles:[{angle_title:"Start by entering a URL or description",headlines:[""],ad_copies:["Paste a product URL or write a short description, then Generate."]}]},C=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")},Z=async e=>{await navigator.clipboard.writeText(e),u.Am.success("Copied to clipboard")};function S(e){let{title:t,headline:n,body:s}=e;return(0,a.jsxs)("div",{className:"w-full max-w-[380px] rounded-2xl border bg-white shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"h-40 bg-gradient-to-br from-[#004AAD] to-[#2563eb]"}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Sponsored \xb7 Irrakids"}),(0,a.jsx)("h3",{className:"mt-1 text-lg font-semibold text-slate-900",children:t}),(0,a.jsx)("p",{className:"mt-2 text-sm font-medium text-slate-800",children:n}),(0,a.jsx)("p",{className:"mt-2 text-sm text-slate-600 line-clamp-5 whitespace-pre-line",children:s}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,a.jsx)(r.z,{className:"rounded-xl",style:{backgroundColor:_.primary},children:"Shop Now"}),(0,a.jsx)(r.z,{variant:"outline",className:"rounded-xl",children:"Learn More"})]})]})]})}function A(e){let{text:t,active:n,onClick:s}=e;return(0,a.jsx)("button",{onClick:s,className:C("px-3 py-2 rounded-full text-sm border transition shadow-sm",n?"bg-[var(--chip-bg,#E8F0FF)] border-transparent text-slate-900":"bg-white hover:bg-slate-50 border-slate-200 text-slate-700"),style:{"--chip-bg":_.primarySoft},children:t})}function O(){var e,t;let[n,O]=(0,s.useState)(""),[I,E]=(0,s.useState)(""),[M,L]=(0,s.useState)(!1),[z,R]=(0,s.useState)(k),[T,U]=(0,s.useState)("en"),[P,F]=(0,s.useState)({}),[B,D]=(0,s.useState)({}),[H,J]=(0,s.useState)({}),[K,W]=(0,s.useState)(0),[Y,V]=(0,s.useState)(0),[X,Q]=(0,s.useState)(0),[q,G]=(0,s.useState)(""),$=(0,s.useMemo)(()=>"ar"===T&&P.ar?P.ar:"fr"===T&&P.fr?P.fr:"ary"===T&&P.ary?P.ary:z,[T,P,z]),ee=$.angles[K]||{angle_title:"",headlines:[""],ad_copies:[""]},et=null!==(e=ee.headlines[Y])&&void 0!==e?e:"",en=null!==(t=ee.ad_copies[X])&&void 0!==t?t:"";(0,s.useEffect)(()=>{V(0),Q(0)},[K]);let ea=(0,s.useMemo)(()=>{let e=(z.angles||[]).reduce((e,t)=>e+(t.headlines||[]).length,0),t=(z.angles||[]).reduce((e,t)=>e+(t.ad_copies||[]).length,0);return{angles:z.angles.length,totalHeadlines:e,totalCopies:t}},[z]);async function es(){if(!n.trim()&&!I.trim()){u.Am.error("Enter a URL or some text");return}L(!0);try{let e=N.env.NEXT_PUBLIC_API_BASE_URL||"",t=n.trim()?n.trim():I.trim(),{data:a}=await v.Z.post("".concat(e,"/api/chatkit/run"),{mode:n.trim()?"url":"text",url:n.trim()||void 0,text:I.trim()||void 0,require_workflow:!0,workflow_input:t?{input:[{type:"message",role:"user",content:[{type:"input_text",text:t}]}]}:void 0,debug:!0}),s=Array.isArray(null==a?void 0:a.angles)?a.angles:[];if((null==a?void 0:a.debug)&&console.debug("ChatKit debug:",a.debug),!s.length){u.Am.error((null==a?void 0:a.error)||"No angles from workflow"),R(k);return}R({angles:s}),W(0),V(0),Q(0),u.Am.success("Generated from Agent Builder workflow")}catch(e){u.Am.error((null==e?void 0:e.message)||"Failed to run workflow")}finally{L(!1)}}async function er(e,t){try{let n=t||z,{items:a,indexMap:s}=function(e){let t=[],n=[];return(e.angles||[]).forEach((e,a)=>{t.push(String(e.angle_title||"")),n.push({kind:"angle",angleIndex:a}),(e.headlines||[]).forEach((e,s)=>{t.push(String(e||"")),n.push({kind:"headline",angleIndex:a,subIndex:s})}),(e.ad_copies||[]).forEach((e,s)=>{t.push(String(e||"")),n.push({kind:"copy",angleIndex:a,subIndex:s})})}),{items:t,indexMap:n}}(n);if(0===a.length){"ar"===e&&F(e=>({...e,ar:{angles:[]}})),"fr"===e&&F(e=>({...e,fr:{angles:[]}})),"ary"===e&&F(e=>({...e,ary:{angles:[]}}));return}D(t=>({...t,[e]:!0})),J(t=>({...t,[e]:void 0}));let r=await (0,b.Nm)({texts:a,target:e,locale:"ary"===e?"MA":void 0,domain:"ads"}),l=Array.isArray(null==r?void 0:r.translations)?r.translations:[];if(l.length!==a.length)throw Error("Translation count mismatch");let i=function(e,t,n){let a={angles:e.angles.map(e=>({angle_title:e.angle_title,headlines:[...e.headlines],ad_copies:[...e.ad_copies]}))};for(let e=0;e<n.length;e++){var s;let r=n[e],l=null!==(s=t[e])&&void 0!==s?s:"";"angle"===r.kind&&(a.angles[r.angleIndex].angle_title=l),"headline"===r.kind&&null!=r.subIndex&&(a.angles[r.angleIndex].headlines[r.subIndex]=l),"copy"===r.kind&&null!=r.subIndex&&(a.angles[r.angleIndex].ad_copies[r.subIndex]=l)}return a}(n,l,s);F(t=>"ar"===e?{...t,ar:i}:"fr"===e?{...t,fr:i}:{...t,ary:i})}catch(t){J(n=>({...n,[e]:(null==t?void 0:t.message)||"Translate failed"})),u.Am.error("Translate ".concat(e.toUpperCase()," failed"))}finally{D(t=>({...t,[e]:!1}))}}let el=async()=>{try{let e=JSON.parse(q);if(!e.angles)throw Error("Missing 'angles' array");R(e),W(0),V(0),Q(0),U("en"),u.Am.success("Agent output loaded"),await Promise.allSettled([er("ar",e),er("fr",e),er("ary",e)])}catch(e){u.Am.error("Invalid JSON: ".concat(e.message))}},ei=()=>{Z((ee.headlines||[]).map((e,t)=>"".concat(t+1,". ").concat(e)).join("\n"))},eo=()=>{Z((ee.ad_copies||[]).map((e,t)=>"Copy ".concat(t+1,":\n").concat(e)).join("\n\n---\n\n"))};return(0,a.jsxs)("div",{className:"min-h-screen w-full bg-gradient-to-b from-white to-slate-50 text-slate-800",children:[(0,a.jsx)("div",{className:"sticky top-0 z-40 border-b bg-white/80 backdrop-blur",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-9 w-9 rounded-xl",style:{background:_.primary}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-slate-500",children:"Irrakids Creative"}),(0,a.jsx)("h1",{className:"text-xl font-bold tracking-tight",children:"Ad Angles Studio"})]}),(0,a.jsx)(c.C,{className:"ml-3",style:{backgroundColor:_.primarySoft,color:_.primary},children:"v1.1"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(r.z,{variant:"outline",className:"rounded-xl",onClick:()=>{let e=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="ad-angles-".concat(Date.now(),".json"),n.click(),URL.revokeObjectURL(t)},children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"})," Export JSON"]})})]})}),(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 pt-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3",children:[(0,a.jsx)("div",{className:"md:col-span-5",children:(0,a.jsx)(i.I,{value:n,onChange:e=>O(e.target.value),placeholder:"https://your-landing-page... (optional)",className:"rounded-xl"})}),(0,a.jsx)("div",{className:"md:col-span-6",children:(0,a.jsx)(i.I,{value:I,onChange:e=>E(e.target.value),placeholder:"Describe the product or offer... (optional)",className:"rounded-xl"})}),(0,a.jsx)("div",{className:"md:col-span-1",children:(0,a.jsx)(r.z,{className:"w-full rounded-xl",style:{backgroundColor:_.primary},disabled:M,onClick:es,children:M?"Generating…":"Generate"})})]})}),(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-3",children:[(0,a.jsxs)(l.Zb,{className:"rounded-2xl border-slate-200 shadow-sm",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"text-base",children:["Angles (",ea.angles,")"]})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)("div",{className:"flex flex-col gap-2",children:$.angles.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>W(t),className:C("w-full text-left p-3 rounded-xl border transition",t===K?"bg-white border-transparent shadow-sm ring-2":"bg-slate-50 hover:bg-white border-slate-200"),style:t===K?{boxShadow:"0 0 0 2px ".concat(_.primarySoft)}:{},children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:e.angle_title}),(0,a.jsx)("div",{className:"mt-1 text-xs text-slate-500 line-clamp-2",children:e.headlines[0]})]},t))})})]}),(0,a.jsxs)(l.Zb,{className:"rounded-2xl mt-6",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-base",children:"Import agent output"})}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)(o.g,{value:q,onChange:e=>G(e.target.value),placeholder:'Paste JSON {"angles": [...]}',className:"min-h-[140px] rounded-xl"}),(0,a.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,a.jsxs)(r.z,{className:"rounded-xl",onClick:el,children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 mr-2"})," Load JSON"]}),(0,a.jsx)(r.z,{variant:"outline",className:"rounded-xl",onClick:()=>G(""),children:"Clear"})]}),(0,a.jsxs)("div",{className:"mt-3 space-y-1 text-xs text-slate-500",children:[(0,a.jsxs)("div",{children:["Headlines total: ",ea.totalHeadlines," \xb7 Copies total: ",ea.totalCopies]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"Translations:"}),(0,a.jsxs)("span",{className:["inline-flex items-center gap-1",B.ar?"text-sky-600":"text-slate-500"].join(" "),children:[B.ar?(0,a.jsx)(m.Z,{className:"h-3.5 w-3.5 animate-spin"}):null," AR ",P.ar?"ready":B.ar?"…":H.ar?"error":"–"]}),(0,a.jsx)("span",{className:"mx-1",children:"\xb7"}),(0,a.jsxs)("span",{className:["inline-flex items-center gap-1",B.fr?"text-sky-600":"text-slate-500"].join(" "),children:[B.fr?(0,a.jsx)(m.Z,{className:"h-3.5 w-3.5 animate-spin"}):null," FR ",P.fr?"ready":B.fr?"…":H.fr?"error":"–"]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-9",children:[(0,a.jsxs)(l.Zb,{className:"rounded-2xl border-slate-200 shadow-sm",children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-slate-500",children:"Selected angle"}),(0,a.jsx)(l.ll,{className:"text-2xl",children:ee.angle_title})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(r.z,{variant:"outline",className:"rounded-xl",onClick:()=>ei(),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"})," Copy headlines"]}),(0,a.jsxs)(r.z,{className:"rounded-xl",style:{backgroundColor:_.primary},onClick:()=>eo(),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"})," Copy ad copies"]})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(d.mQ,{value:T,onValueChange:e=>U(e),children:(0,a.jsxs)(d.dr,{className:"rounded-xl",children:[(0,a.jsx)(d.SP,{value:"en",className:"rounded-xl",children:"English"}),(0,a.jsx)(d.SP,{value:"ar",className:"rounded-xl",children:"العربية"}),(0,a.jsx)(d.SP,{value:"fr",className:"rounded-xl",children:"Fran\xe7ais"}),(0,a.jsx)(d.SP,{value:"ary",className:"rounded-xl",children:"الدارجة"})]})})})]}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:C("grid grid-cols-1 xl:grid-cols-2 gap-6","ar"===T?"rtl text-right":"ltr text-left"),dir:"ar"===T?"rtl":"ltr",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Headlines"}),(0,a.jsx)(c.C,{variant:"secondary",children:ee.headlines.length})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:ee.headlines.map((e,t)=>(0,a.jsx)(A,{text:e,active:t===Y,onClick:()=>V(t)},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Ad copies"}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:ee.ad_copies.map((e,t)=>(0,a.jsxs)(r.z,{variant:t===X?"default":"outline",className:"rounded-xl h-8 px-3",onClick:()=>Q(t),children:["Copy ",t+1]},t))})]}),(0,a.jsxs)("div",{className:"rounded-xl border p-4 bg-white shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:["Characters: ",en.length]}),(0,a.jsxs)(r.z,{size:"sm",variant:"ghost",onClick:()=>Z(en),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"})," Copy"]})]}),(0,a.jsx)("pre",{className:"mt-2 whitespace-pre-wrap text-sm text-slate-800",children:en})]})]}),(0,a.jsxs)("div",{className:"xl:col-span-2",children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),(0,a.jsx)("h3",{className:"font-semibold",children:"Mobile Ad Preview"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[(0,a.jsxs)("span",{children:["Headline ",Y+1," / ",ee.headlines.length]}),(0,a.jsx)("span",{className:"mx-2",children:"\xb7"}),(0,a.jsxs)("span",{children:["Copy ",X+1," / ",ee.ad_copies.length]})]})]}),(0,a.jsx)(S,{title:ee.angle_title,headline:et,body:en})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[(0,a.jsxs)(l.Zb,{className:"rounded-2xl",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-base",children:"Quick polish"})}),(0,a.jsxs)(l.aY,{className:"flex flex-col gap-3",children:[(0,a.jsxs)(r.z,{variant:"outline",className:"rounded-xl justify-start",onClick:()=>Z("".concat(et,"\n\n").concat(en)),children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"})," Copy headline + copy"]}),(0,a.jsxs)(r.z,{variant:"outline",className:"rounded-xl justify-start",onClick:()=>Z(ee.headlines.join(" | ")),children:[(0,a.jsx)(y.Z,{className:"h-4 w-4 mr-2"})," Copy headlines (one line)"]})]})]}),(0,a.jsxs)(l.Zb,{className:"rounded-2xl",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-base",children:"Variants"})}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Duplicate the selected angle and tweak for A/B tests (CTA, first 3 words, emoji usage, length)."}),(0,a.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,a.jsxs)(r.z,{className:"rounded-xl",style:{backgroundColor:_.primary},onClick:()=>Z("A) ".concat(et,"\nB) ").concat(et.replace(/\\b\\w+\\b/g,(e,t)=>t<1?"Cozy":e))),children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"})," Suggest alt headline"]}),(0,a.jsxs)(r.z,{variant:"outline",className:"rounded-xl",onClick:()=>Z(en.replace(/\n\n/g," ")),children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"})," One‑paragraph version"]})]})]})]}),(0,a.jsxs)(l.Zb,{className:"rounded-2xl",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-base",children:"Notes"})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)(o.g,{placeholder:"Add creative notes… (audience, hook, visuals, CTA)",className:"rounded-xl"})})]})]})]})]}),(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 pb-10",children:(0,a.jsxs)(l.Zb,{className:"rounded-2xl border-slate-200 shadow-sm",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{className:"text-base",children:"Agent Builder Chat"})}),(0,a.jsx)(l.aY,{children:(0,a.jsx)(w.default,{})})]})}),(0,a.jsx)("div",{className:"mt-10 border-t",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8 flex flex-col md:flex-row items-center justify-between gap-3",children:[(0,a.jsx)("div",{className:"text-sm text-slate-500",children:"Built for high‑converting ads \xb7 Designed for Irrakids"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,a.jsx)(c.C,{style:{backgroundColor:_.primarySoft,color:_.primary},children:"Headlines"}),(0,a.jsx)(c.C,{variant:"outline",children:"Ad Copy"}),(0,a.jsx)(c.C,{variant:"secondary",children:"Preview"})]})]})})]})}},4693:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var a=n(7437);function s(e){let{variant:t="default",className:n="",...s}=e;return(0,a.jsx)("span",{...s,className:["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",{default:"bg-slate-900 text-white",secondary:"bg-slate-100 text-slate-900",outline:"border border-slate-200 text-slate-700"}[t],n].join(" ")})}n(2265)},495:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var a=n(7437);function s(e){let{variant:t="default",size:n="md",className:s="",...r}=e;return(0,a.jsx)("button",{...r,className:["inline-flex items-center justify-center font-medium transition focus:outline-none",{default:"bg-slate-900 text-white hover:bg-slate-800",outline:"border border-slate-200 bg-white text-slate-900 hover:bg-slate-50",ghost:"text-slate-700 hover:bg-slate-100"}[t],{sm:"h-8 px-2 rounded-md text-sm",md:"h-10 px-4 rounded-lg"}[n],s].join(" ")})}n(2265)},6013:function(e,t,n){"use strict";n.d(t,{Ol:function(){return r},Zb:function(){return s},aY:function(){return i},ll:function(){return l}});var a=n(7437);function s(e){let{className:t="",...n}=e;return(0,a.jsx)("div",{...n,className:["border bg-white",t].join(" ")})}function r(e){let{className:t="",...n}=e;return(0,a.jsx)("div",{...n,className:["border-b p-4",t].join(" ")})}function l(e){let{className:t="",...n}=e;return(0,a.jsx)("div",{...n,className:["font-semibold",t].join(" ")})}function i(e){let{className:t="",...n}=e;return(0,a.jsx)("div",{...n,className:["p-4",t].join(" ")})}n(2265)},3102:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var a=n(7437);function s(e){let{className:t="",...n}=e;return(0,a.jsx)("input",{...n,className:["h-10 w-full border border-slate-200 bg-white px-3 text-sm text-slate-900 placeholder:text-slate-400","rounded-lg",t].join(" ")})}n(2265)},5273:function(e,t,n){"use strict";n.d(t,{SP:function(){return o},dr:function(){return i},mQ:function(){return l},nU:function(){return c}});var a=n(7437),s=n(2265);let r=s.createContext(null);function l(e){let{value:t,onValueChange:n,className:l="",children:i}=e,[o,c]=s.useState(t);s.useEffect(()=>{c(t)},[t]);let d=s.useCallback(e=>{c(e),n(e)},[n]);return(0,a.jsx)("div",{className:l,children:(0,a.jsx)(r.Provider,{value:{value:o,setValue:d},children:i})})}function i(e){let{className:t="",children:n}=e;return(0,a.jsx)("div",{className:["inline-flex gap-2 bg-slate-100 p-1",t].join(" "),children:n})}function o(e){let{value:t,className:n="",children:l}=e,i=s.useContext(r),o=(null==i?void 0:i.value)===t;return(0,a.jsx)("button",{onClick:()=>null==i?void 0:i.setValue(t),className:["px-3 py-1.5 text-sm rounded-md transition",o?"bg-white shadow border border-slate-200":"hover:bg-white/60",n].join(" "),children:l})}function c(e){let{value:t,className:n="",children:l}=e,i=s.useContext(r);return(null==i?void 0:i.value)!==t?null:(0,a.jsx)("div",{className:n,children:l})}},3146:function(e,t,n){"use strict";n.d(t,{g:function(){return s}});var a=n(7437);function s(e){let{className:t="",...n}=e;return(0,a.jsx)("textarea",{...n,className:["w-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 min-h-[100px]","rounded-lg",t].join(" ")})}n(2265)},6264:function(e,t,n){"use strict";n.d(t,{$8:function(){return X},DO:function(){return c},HW:function(){return P},HX:function(){return j},JA:function(){return U},KQ:function(){return _},Ks:function(){return F},LJ:function(){return S},ME:function(){return u},Nm:function(){return z},PN:function(){return x},Q:function(){return B},Rd:function(){return p},Sv:function(){return C},V0:function(){return W},VI:function(){return N},WM:function(){return y},XD:function(){return d},_R:function(){return V},_X:function(){return Y},aW:function(){return K},dP:function(){return v},e1:function(){return T},eg:function(){return w},ew:function(){return Q},fE:function(){return f},fh:function(){return A},hw:function(){return g},jZ:function(){return L},kY:function(){return D},l9:function(){return m},n4:function(){return o},oB:function(){return E},rU:function(){return J},sF:function(){return M},sP:function(){return R},sQ:function(){return I},sj:function(){return b},sm:function(){return k},th:function(){return Z},vz:function(){return H},xY:function(){return l},yD:function(){return i},yp:function(){return h},zO:function(){return O}});var a=n(8472);let s=n(357).env.NEXT_PUBLIC_API_BASE_URL||"";function r(){try{return localStorage.getItem("ptos_store")||void 0}catch(e){return}}async function l(e){let t=new FormData;for(let n of(t.append("audience",e.audience),t.append("benefits",JSON.stringify(e.benefits)),t.append("pain_points",JSON.stringify(e.pain_points)),null!=e.base_price&&t.append("base_price",String(e.base_price)),e.title&&t.append("title",e.title),Array.isArray(e.sizes)&&t.append("sizes",JSON.stringify(e.sizes)),Array.isArray(e.colors)&&t.append("colors",JSON.stringify(e.colors)),e.targeting&&t.append("targeting","string"==typeof e.targeting?e.targeting:JSON.stringify(e.targeting)),"boolean"==typeof e.advantage_plus&&t.append("advantage_plus",String(e.advantage_plus)),"number"==typeof e.adset_budget&&t.append("adset_budget",String(e.adset_budget)),e.model&&t.append("model",e.model),e.angles_prompt&&t.append("angles_prompt",e.angles_prompt),e.title_desc_prompt&&t.append("title_desc_prompt",e.title_desc_prompt),e.landing_copy_prompt&&t.append("landing_copy_prompt",e.landing_copy_prompt),e.images||[]))t.append("images",n);let{data:n}=await a.Z.post("".concat(s,"/api/tests"),t,{headers:{"Content-Type":"multipart/form-data"}});return n}async function i(e){let{data:t}=await a.Z.get("".concat(s,"/api/tests/").concat(e));return t}async function o(e){let{data:t}=await a.Z.get("".concat(s,"/api/tests/").concat(e,"?slim=1"));return t}async function c(e){var t,n;let l={...e,settings:{...e.settings||{},store:null!==(n=null==e?void 0:null===(t=e.settings)||void 0===t?void 0:t.store)&&void 0!==n?n:r()}},{data:i}=await a.Z.post("".concat(s,"/api/flows/draft"),l);return i}async function d(e,t){var n,l;let i={...t,settings:{...t.settings||{},store:null!==(l=null==t?void 0:null===(n=t.settings)||void 0===n?void 0:n.store)&&void 0!==l?l:r()}},{data:o}=await a.Z.put("".concat(s,"/api/flows/draft/").concat(e),i);return o}async function u(e){let{data:t}=await a.Z.get("".concat(s,"/api/flows/").concat(e));return t}async function p(e,t){let n=[];"number"==typeof e&&n.push("limit=".concat(e));let l=t||r();l&&n.push("store=".concat(encodeURIComponent(l)));let i=n.length?"?".concat(n.join("&")):"",{data:o}=await a.Z.get("".concat(s,"/api/flows").concat(i));return o}async function f(e){let{data:t}=await a.Z.delete("".concat(s,"/api/flows/").concat(e));return t}async function m(){let{data:e}=await a.Z.get("".concat(s,"/api/meta/audiences"));return e}async function h(e){let{data:t}=await a.Z.post("".concat(s,"/api/flows/ads/launch"),e);return t}async function x(e){let{data:t}=await a.Z.post("".concat(s,"/api/llm/angles"),e);return t}async function g(e){let{data:t}=await a.Z.post("".concat(s,"/api/llm/title_desc"),e);return t}async function y(e){let{data:t}=await a.Z.post("".concat(s,"/api/llm/landing_copy"),e);return t}async function j(e){let{data:t}=await a.Z.post("".concat(s,"/api/llm/analyze_landing_page"),e);return t}async function v(e){let{data:t}=await a.Z.post("".concat(s,"/api/meta/draft_image_campaign"),e);return t}async function b(e){let{data:t}=await a.Z.post("".concat(s,"/api/meta/draft_carousel_campaign"),e);return t}async function w(e){let t=new FormData;for(let n of e||[])t.append("files",n);let{data:n}=await a.Z.post("".concat(s,"/api/uploads"),t,{headers:{"Content-Type":"multipart/form-data"}});return n}async function N(e){let{data:t}=await a.Z.post("".concat(s,"/api/shopify/upload_images"),{...e,store:r()});return t}async function _(e){let{data:t}=await a.Z.post("".concat(s,"/api/shopify/product_create_from_title_desc"),{...e,store:r()});return t}async function k(e){let{data:t}=await a.Z.post("".concat(s,"/api/shopify/update_title"),{...e,store:r()});return t}async function C(e){var t,n;let{data:l}=await a.Z.post("".concat(s,"/api/shopify/create_page_from_copy"),{...e,store:r()});return{page_url:null!==(n=null!==(t=null==l?void 0:l.page_url)&&void 0!==t?t:null==l?void 0:l.url)&&void 0!==n?n:void 0}}async function Z(e){let{data:t}=await a.Z.post("".concat(s,"/api/shopify/configure_variants"),{...e,store:r()});return t}async function S(e){let t=new FormData;t.append("product_gid",e.product_gid),e.title&&t.append("title",e.title),e.description&&t.append("description",e.description),e.landing_copy&&t.append("landing_copy",JSON.stringify(e.landing_copy));let n=r();for(let a of(n&&t.append("store",n),e.files||[]))t.append("files",a);let{data:l}=await a.Z.post("".concat(s,"/api/shopify/upload_files"),t,{headers:{"Content-Type":"multipart/form-data"}});return l}async function A(e){var t;let n={...e,store:null!==(t=e.store)&&void 0!==t?t:r()},{data:l}=await a.Z.post("".concat(s,"/api/shopify/collection_products"),n);return l}async function O(e){let t=[],n=null!=e?e:r();n&&t.push("store=".concat(encodeURIComponent(n)));let l=t.length?"?".concat(t.join("&")):"",{data:i}=await a.Z.get("".concat(s,"/api/campaign_mappings").concat(l));return i}async function I(e){var t;let n={...e,store:null!==(t=e.store)&&void 0!==t?t:r()},{data:l}=await a.Z.post("".concat(s,"/api/campaign_mappings"),n);return l}async function E(e){let{data:t}=await a.Z.post("".concat(s,"/api/gemini/ad_image"),e);return t}async function M(e){let{data:t}=await a.Z.post("".concat(s,"/api/gemini/feature_benefit_set"),e);return t}async function L(e){let{data:t}=await a.Z.post("".concat(s,"/api/agent/execute"),e);return t}async function z(e){let{data:t}=await a.Z.post("".concat(s,"/api/translate"),e);return t}async function R(e){let{data:t}=await a.Z.get("".concat(s,"/api/agents").concat("number"==typeof e?"?limit=".concat(e):""));return t}async function T(e){let{data:t}=await a.Z.get("".concat(s,"/api/agents/").concat(e));return t}async function U(e,t){let{data:n}=await a.Z.put("".concat(s,"/api/agents/").concat(e),t);return n}async function P(e,t){let{data:n}=await a.Z.get("".concat(s,"/api/agents/").concat(e,"/runs").concat("number"==typeof t?"?limit=".concat(t):""));return n}async function F(e,t){let{data:n}=await a.Z.post("".concat(s,"/api/agents/").concat(e,"/runs"),t);return n}async function B(e,t,n){let{data:r}=await a.Z.put("".concat(s,"/api/agents/").concat(e,"/runs/").concat(t),n);return r}async function D(e,t){let{data:n}=await a.Z.get("".concat(s,"/api/agents/").concat(e,"/runs/").concat(t));return n}async function H(e){let{data:t}=await a.Z.post("".concat(s,"/api/llm/product_from_image"),e);return t}async function J(e){let{data:t}=await a.Z.post("".concat(s,"/api/gemini/variant_set"),e);return t}async function K(){let{data:e}=await a.Z.get("".concat(s,"/api/prompts"));return e}async function W(e){let{data:t}=await a.Z.post("".concat(s,"/api/prompts"),e);return t}async function Y(e,t){let n=[];e&&n.push("date_preset=".concat(encodeURIComponent(e))),t&&n.push("ad_account=".concat(encodeURIComponent(t)));let r=n.length?"?".concat(n.join("&")):"",{data:l}=await a.Z.get("".concat(s,"/api/meta/campaigns").concat(r));return l}async function V(e){var t,n;let l={...e,store:null!==(t=e.store)&&void 0!==t?t:r(),include_closed:null===(n=e.include_closed)||void 0===n||n,date_field:e.date_field},{data:i}=await a.Z.post("".concat(s,"/api/shopify/orders_count_by_title"),l);return i}async function X(e){var t;let n={...e,store:null!==(t=e.store)&&void 0!==t?t:r()},{data:l}=await a.Z.post("".concat(s,"/api/shopify/products_brief"),n);return l}async function Q(e){var t,n;let l={...e,store:null!==(t=e.store)&&void 0!==t?t:r(),include_closed:null===(n=e.include_closed)||void 0===n||n,aggregate:e.aggregate,date_field:e.date_field},{data:i}=await a.Z.post("".concat(s,"/api/shopify/orders_count_by_collection"),l);return i}},2140:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]])},7164:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},404:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},3274:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8400:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},3907:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},8184:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},1773:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])}},function(e){e.O(0,[472,776,971,23,744],function(){return e(e.s=3531)}),_N_E=e.O()}]);