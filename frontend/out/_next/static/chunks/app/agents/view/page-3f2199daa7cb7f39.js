(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[321],{7124:function(e,t,n){Promise.resolve().then(n.bind(n,2817)),Promise.resolve().then(n.bind(n,912)),Promise.resolve().then(n.bind(n,1481))},2817:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var l=n(7437),s=n(551),r=n.n(s),i=n(7138),a=n(2757),d=n(6463),u=n(2265),o=n(6264);let c=r()(()=>Promise.all([n.e(776),n.e(527)]).then(n.bind(n,9527)),{loadableGenerated:{webpack:()=>[9527]},ssr:!1}),f=r()(()=>n.e(148).then(n.bind(n,8148)),{loadableGenerated:{webpack:()=>[8148]},ssr:!1});function m(){let e=String((0,d.useSearchParams)().get("id")||""),[t,n]=(0,u.useState)({id:e,name:e}),[s,r]=(0,u.useState)([]),[m,h]=(0,u.useState)(""),[x,p]=(0,u.useState)(null),b=(0,u.useMemo)(()=>"agent_".concat(e,"_instruction"),[e]);return(0,u.useEffect)(()=>{(async()=>{if(e){try{let t=await (0,o.e1)(e);n(t)}catch(e){}try{let t=await (0,o.HW)(e,20);r((null==t?void 0:t.data)||[])}catch(e){}}})()},[e]),(0,u.useEffect)(()=>{(async()=>{if(e&&m)try{let t=await (0,o.kY)(e,m);p(t)}catch(e){}})()},[e,m]),(0,l.jsxs)("div",{className:"min-h-screen w-full bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-sky-50 via-white to-indigo-50 text-slate-800",children:[(0,l.jsxs)("header",{className:"h-16 px-5 md:px-8 flex items-center justify-between border-b bg-white/70 backdrop-blur sticky top-0 z-50",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(a.Z,{className:"w-6 h-6 text-blue-600"}),(0,l.jsx)("h1",{className:"font-semibold text-xl tracking-tight",children:(null==t?void 0:t.name)||"Agent"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("select",{className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white",value:m,onChange:e=>h(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"History"}),s.map(e=>(0,l.jsx)("option",{value:e.id,children:e.title||e.id},e.id))]})}),(0,l.jsx)(i.default,{href:"/agents",className:"rounded-xl font-semibold inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white",children:"Agents"}),(0,l.jsx)(i.default,{href:"/agents/angles",className:"rounded-xl font-semibold inline-flex items-center gap-2 px-4 py-2 border border-slate-200 bg-white text-slate-900 hover:bg-slate-50",children:"Angles"})]})]}),(0,l.jsxs)("div",{className:"p-6 md:p-8",children:["promotion-agent"===e?(0,l.jsx)(f,{instructionKey:b,initialInstruction:null==t?void 0:t.instruction,agentId:e}):(0,l.jsx)(c,{defaultEndpoint:"/api/chatkit/run"}),x?(0,l.jsxs)("div",{className:"mt-6 rounded-xl border border-slate-200 bg-white shadow-sm p-5",children:[(0,l.jsx)("div",{className:"text-lg font-semibold mb-2",children:"Previous Run"}),(0,l.jsxs)("div",{className:"text-xs text-slate-500 mb-3",children:[(null==x?void 0:x.title)||(null==x?void 0:x.id)," â€” ",null==x?void 0:x.status]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium mb-1",children:"Input"}),(0,l.jsx)("pre",{className:"text-xs bg-slate-50 p-3 border rounded-lg overflow-auto max-h-64",children:JSON.stringify((null==x?void 0:x.input)||{},null,2)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium mb-1",children:"Output"}),(0,l.jsx)("pre",{className:"text-xs bg-slate-50 p-3 border rounded-lg overflow-auto max-h-64",children:JSON.stringify((null==x?void 0:x.output)||{},null,2)})]})]})]}):null]})]})}},2757:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,n(8030).Z)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]])},7138:function(e,t,n){"use strict";n.d(t,{default:function(){return s.a}});var l=n(231),s=n.n(l)},6463:function(e,t,n){"use strict";var l=n(1169);n.o(l,"useRouter")&&n.d(t,{useRouter:function(){return l.useRouter}}),n.o(l,"useSearchParams")&&n.d(t,{useSearchParams:function(){return l.useSearchParams}})},551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let l=n(9920);n(7437),n(2265);let s=l._(n(148));function r(e,t){var n;let l={loading:e=>{let{error:t,isLoading:n,pastDelay:l}=e;return null}};"function"==typeof e&&(l.loader=e);let r={...l,...t};return(0,s.default)({...r,modules:null==(n=r.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let l=n(5592);function s(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return n}},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let l=n(7437),s=n(2265),r=n(912),i=n(1481);function a(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},u=function(e){let t={...d,...e},n=(0,s.lazy)(()=>t.loader().then(a)),u=t.loading;function o(e){let a=u?(0,l.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,d=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(i.PreloadCss,{moduleIds:t.modules}):null,(0,l.jsx)(n,{...e})]}):(0,l.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(n,{...e})});return(0,l.jsx)(s.Suspense,{fallback:a,children:d})}return o.displayName="LoadableComponent",o}},1481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return r}});let l=n(7437),s=n(8512);function r(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,s.getExpectedRequestStore)("next/dynamic css"),r=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));r.push(...t)}}return 0===r.length?null:(0,l.jsx)(l.Fragment,{children:r.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[472,231,264,971,23,744],function(){return e(e.s=7124)}),_N_E=e.O()}]);