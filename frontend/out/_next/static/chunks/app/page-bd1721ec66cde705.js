(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8211:function(e,t,s){Promise.resolve().then(s.bind(s,3634))},3634:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(7437),n=s(2265),l=s(2955),i=s(2757),r=s(8094),c=s(9061),d=s(472),o=s(8604),u=s(399),x=s(2023),m=s(6780),p=s(3231);function h(e){let{files:t,onFiles:s}=e,l=(0,n.useRef)(null);return(0,a.jsxs)("div",{className:"p-6 border-2 border-dashed border-slate-700 rounded-xl text-center hover:border-slate-500 transition",onClick:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.click()},onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault(),s([...t,...Array.from(e.dataTransfer.files)])},children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Drop images here or click to upload"}),(0,a.jsx)("input",{ref:l,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:e=>s([...t,...Array.from(e.target.files||[])])}),(0,a.jsx)("div",{className:"mt-3 flex flex-wrap gap-2 justify-center",children:t.map((e,t)=>(0,a.jsx)("span",{className:"text-xs text-slate-400 bg-slate-800 px-2 py-1 rounded",children:e.name},t))})]})}function f(e){let{value:t,onChange:s,placeholder:l}=e,[i,r]=(0,n.useState)("");return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 p-2 rounded-lg border border-slate-700 bg-[#0c122a]",children:[t.map(e=>(0,a.jsxs)("span",{className:"px-2 py-1 rounded-md bg-slate-800 border border-slate-700 text-sm",children:[e,(0,a.jsx)("button",{className:"ml-2 text-slate-400",onClick:()=>s(t.filter(t=>t!==e)),children:"\xd7"})]},e)),(0,a.jsx)("input",{className:"flex-1 bg-transparent outline-none text-sm",value:i,placeholder:l||"Add & press Enter",onChange:e=>r(e.target.value),onKeyDown:function(e){("Enter"===e.key||","===e.key)&&(e.preventDefault(),function(e){let a=e.trim();a&&(t.includes(a)||s([...t,a]),r(""))}(i))}})]})})}var g=s(8472);let j=s(357).env.NEXT_PUBLIC_API_BASE_URL||"";async function v(e){let t=new FormData;for(let s of(t.append("audience",e.audience),t.append("benefits",JSON.stringify(e.benefits)),t.append("pain_points",JSON.stringify(e.pain_points)),null!=e.base_price&&t.append("base_price",String(e.base_price)),e.title&&t.append("title",e.title),e.images||[]))t.append("images",s);let{data:s}=await g.Z.post("".concat(j,"/api/tests"),t,{headers:{"Content-Type":"multipart/form-data"}});return s}async function b(e){let{data:t}=await g.Z.get("".concat(j,"/api/tests/").concat(e));return t}function N(e){let{children:t,onClick:s,disabled:n,variant:l="default",size:i="md"}=e;return(0,a.jsx)("button",{onClick:s,disabled:n,className:"".concat("rounded-xl font-semibold transition inline-flex items-center justify-center"," ").concat("sm"===i?"text-sm px-3 py-1.5":"px-4 py-2"," ").concat("outline"===l?"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-60":"bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-60"),children:t})}function y(e){let{children:t}=e;return(0,a.jsx)("div",{className:"bg-white border rounded-2xl shadow-sm",children:t})}function w(e){let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"px-4 pt-4 ".concat(s),children:t})}function _(e){let{children:t,className:s=""}=e;return(0,a.jsx)("h3",{className:"font-semibold ".concat(s),children:t})}function S(e){let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"px-4 pb-4 ".concat(s),children:t})}function k(e){let{children:t,className:s=""}=e;return(0,a.jsx)("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded ".concat(s),children:t})}function C(e){return(0,a.jsx)("input",{...e,className:"w-full rounded-xl border px-3 py-2 ".concat(e.className||"")})}function A(e){let{className:t=""}=e;return(0,a.jsx)("div",{className:"border-t ".concat(t)})}let P=1,D=()=>"n".concat(P++),M=()=>new Date().toISOString(),Z=e=>new Promise(t=>setTimeout(t,e));function R(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{id:D(),type:e,x:t,y:s,data:a,selected:!1,run:{status:"idle",output:null,error:null,startedAt:null,finishedAt:null,ms:0}}}function E(e,t,s,a){return{id:D(),from:e,fromPort:t,to:s,toPort:a}}function T(){var e,t,s;let[l,m]=(0,n.useState)(function(){let e=R("trigger",120,140,{name:"New Product",topic:"new_product"}),t=R("action",420,120,{label:"Generate Copy",type:"generate_copy"}),s=R("action",720,120,{label:"Launch Test",type:"launch_test"}),a=R("action",1020,120,{label:"Create Landing",type:"create_landing"}),n=R("action",1320,120,{label:"Meta Ads",type:"meta_ads_launch"}),l=[E(e.id,"out",t.id,"in"),E(t.id,"out",s.id,"in"),E(s.id,"out",a.id,"in"),E(a.id,"out",n.id,"in")];return{nodes:[e,t,s,a,n],edges:l}}()),[p,g]=(0,n.useState)(null),[j,P]=(0,n.useState)(1),[D,T]=(0,n.useState)(!1),[U,X]=(0,n.useState)(null),[B,F]=(0,n.useState)([]),[Y,J]=(0,n.useState)("Parents of toddlers in Morocco"),[K,G]=(0,n.useState)(""),[W,q]=(0,n.useState)(""),[H,Q]=(0,n.useState)(["Comfy all-day wear"]),[V,$]=(0,n.useState)(["Kids scuff shoes"]),[ee,et]=(0,n.useState)([]),[es,ea]=(0,n.useState)(void 0),[en,el]=(0,n.useState)(null),ei=l.nodes.find(e=>e.id===p)||null;function er(e,t,s){F(a=>[...a,{time:M(),level:e,msg:t,nodeId:s}])}function ec(e,t){m(s=>({...s,nodes:s.nodes.map(s=>s.id===e?{...s,run:{...s.run,...t}}:s)}))}let ed=(0,n.useRef)({id:null,offsetX:0,offsetY:0});function eo(e,t){let s=e.currentTarget.getBoundingClientRect();ed.current={id:t.id,offsetX:e.clientX-s.left,offsetY:e.clientY-s.top},g(t.id)}async function eu(){if(D)return;F([]),m(e=>({...e,nodes:e.nodes.map(e=>({...e,run:{status:"idle",output:null,error:null,startedAt:null,finishedAt:null,ms:0}}))})),T(!0),ea(void 0),el(null);let e=l.nodes.find(e=>"trigger"===e.type);if(!e){T(!1);return}await ex(e.id,{refs:{}}),T(!1)}async function ex(e,t){X(e);let s=l.nodes.find(t=>t.id===e);if(!s)return;let a=performance.now();ec(e,{status:"running",startedAt:M()});try{if("action"===s.type){let a=await em(s,t);ec(e,{status:"success",output:a}),er("info","✓ ".concat(s.data.label||s.data.type," → done"),e)}else if("trigger"===s.type)er("info","▶ trigger: ".concat(s.data.topic||"start"),e);else if("delay"===s.type){let t=Number(s.data.minutes||0);er("info","⏱ waiting ".concat(t," minute(s) (simulated)"),e),await Z(600),ec(e,{status:"success",output:{waited_minutes:t}})}for(let s of l.edges.filter(t=>t.from===e))await ex(s.to,t)}catch(t){ec(e,{status:"error",error:String((null==t?void 0:t.message)||t)}),er("error","✗ ".concat(s.data.label||s.data.type," → ").concat(String((null==t?void 0:t.message)||t)),e)}!function(e,t){let s=Math.max(1,Math.round(performance.now()-t));ec(e,{finishedAt:M(),ms:s})}(e,a)}async function em(e,t){let s=e.data.type;if(await Z(300+300*Math.random()),"generate_copy"===s)return{title:(K||"Untitled Product")+(""!==W?" — ".concat(W," MAD"):""),description:["Audience: ".concat(Y),H.length?"Benefits: ".concat(H.slice(0,3).join(" • ")):"",V.length?"Pain points: ".concat(V.slice(0,2).join(" • ")):""].filter(Boolean).join("\n")};if("launch_test"===s){let s=await v({audience:Y,benefits:H,pain_points:V,base_price:""===W?void 0:Number(W),title:K||void 0,images:ee});ea(s.test_id),er("info","Launched test ".concat(s.test_id),e.id);let a=await ep(s.test_id);return t.refs.test=a,{test_id:s.test_id,status:a.status}}if("create_landing"===s){let e=t.refs.test;return{url:(null==e?void 0:e.page_url)||null}}if("meta_ads_launch"===s){let e=t.refs.test;return{campaign_id:(null==e?void 0:e.campaign_id)||null}}throw Error("Unknown action type: ".concat(s))}async function ep(e){let t=null;for(;;)try{let s=await b(e);el(s);let a=l.nodes.find(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.type)==="create_landing"}),n=l.nodes.find(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.type)==="meta_ads_launch"});if(a&&s.page_url&&ec(a.id,{status:"success",output:{url:s.page_url}}),n&&s.campaign_id&&ec(n.id,{status:"success",output:{campaign_id:s.campaign_id}}),"completed"===s.status||"failed"===s.status){t=s;break}await Z(2e3)}catch(e){await Z(3e3)}return t}return(0,a.jsxs)("div",{className:"min-h-screen w-full bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-sky-50 via-white to-indigo-50 text-slate-800",children:[(0,a.jsxs)("header",{className:"h-16 px-4 md:px-6 flex items-center justify-between border-b bg-white/70 backdrop-blur sticky top-0 z-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.Z,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h1",{className:"font-semibold text-lg",children:"Product Testing OS — Flow Studio"}),(0,a.jsx)(k,{className:"bg-blue-100 text-blue-700",children:"New UI"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(N,{variant:"outline",size:"sm",onClick:eu,disabled:D,children:[(0,a.jsx)(r.Z,{className:"w-4 h-4 mr-1"}),"Run flow"]}),(0,a.jsxs)(N,{variant:"outline",size:"sm",onClick:()=>alert("Saved draft (wire to API)"),children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-1"}),"Save draft"]}),(0,a.jsxs)(N,{size:"sm",onClick:()=>alert("Published (wire CI/CD)"),children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),"Publish"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-3 p-3 h-[calc(100vh-4rem)]",children:[(0,a.jsxs)("aside",{className:"col-span-12 md:col-span-3 space-y-3 overflow-y-auto pb-24",children:[(0,a.jsxs)(y,{children:[(0,a.jsx)(w,{className:"pb-2",children:(0,a.jsxs)(_,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),"Product inputs"]})}),(0,a.jsxs)(S,{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-500 mb-1",children:"Audience"}),(0,a.jsx)(C,{value:Y,onChange:e=>J(e.target.value),placeholder:"Parents of toddlers in Morocco"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-500 mb-1",children:"Title (optional)"}),(0,a.jsx)(C,{value:K,onChange:e=>G(e.target.value),placeholder:"Doll Sneakers – Pink"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-500 mb-1",children:"Base price (MAD)"}),(0,a.jsx)(C,{type:"number",value:W,onChange:e=>q(""===e.target.value?"":Number(e.target.value)),placeholder:"189"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-500 mb-1",children:"Key benefits"}),(0,a.jsx)(f,{value:H,onChange:Q,placeholder:"Add benefit & Enter"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-500 mb-1",children:"Pain points"}),(0,a.jsx)(f,{value:V,onChange:$,placeholder:"Add pain & Enter"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-slate-500 mb-1",children:"Images (optional)"}),(0,a.jsx)(h,{files:ee,onFiles:et})]})]})]}),(0,a.jsxs)(y,{children:[(0,a.jsx)(w,{className:"pb-2",children:(0,a.jsx)(_,{className:"text-base",children:"Flow settings"})}),(0,a.jsxs)(S,{className:"space-y-2 text-xs text-slate-500",children:[(0,a.jsx)("div",{children:"• Run executes: Generate copy → Launch test → Landing → Meta Ads"}),(0,a.jsx)("div",{children:"• Status is polled from your backend and updates nodes/log."})]})]})]}),(0,a.jsxs)("section",{className:"col-span-12 md:col-span-6 relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-2 py-1",children:[(0,a.jsx)("div",{className:"text-sm text-slate-500",children:"Flow canvas"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-xs text-slate-500",children:"Zoom"}),(0,a.jsx)("input",{type:"range",min:50,max:140,step:10,value:100*j,onChange:e=>P(Number(e.target.value)/100),className:"w-40"})]})]}),(0,a.jsx)(A,{className:"mb-2"}),(0,a.jsxs)("div",{className:"relative h-[calc(100%-3rem)] bg-white rounded-2xl shadow-inner overflow-hidden border",onMouseMove:function(e){let t=ed.current;t.id&&m(s=>({...s,nodes:s.nodes.map(s=>s.id===t.id?{...s,x:(e.clientX-t.offsetX-280)/j,y:(e.clientY-t.offsetY-80)/j}:s)}))},onMouseUp:function(){ed.current={id:null,offsetX:0,offsetY:0}},children:[(0,a.jsx)(z,{}),(0,a.jsxs)("div",{className:"absolute left-0 top-0 origin-top-left",style:{transform:"scale(".concat(j,")"),transformOrigin:"0 0"},children:[l.edges.map(e=>(0,a.jsx)(L,{edge:e,nodes:l.nodes,active:D&&U===e.from},e.id)),l.nodes.map(e=>(0,a.jsx)(I,{node:e,selected:p===e.id,onMouseDown:eo,onDelete:e=>m(t=>({...t,nodes:t.nodes.filter(t=>t.id!==e),edges:t.edges.filter(t=>t.from!==e&&t.to!==e)})),active:D&&U===e.id},e.id))]})]})]}),(0,a.jsxs)("aside",{className:"col-span-12 md:col-span-3 space-y-3 overflow-y-auto pb-24",children:[(0,a.jsxs)(y,{children:[(0,a.jsxs)(w,{className:"pb-2 flex items-center justify-between",children:[(0,a.jsx)(_,{className:"text-base",children:"Inspector"}),ei&&(0,a.jsx)("button",{className:"p-1 rounded hover:bg-slate-50",onClick:()=>m(e=>({...e,nodes:e.nodes.filter(e=>e.id!==ei.id),edges:e.edges.filter(e=>e.from!==ei.id&&e.to!==ei.id)})),children:(0,a.jsx)(u.Z,{className:"w-4 h-4 text-slate-500"})})]}),(0,a.jsxs)(S,{children:[!ei&&(0,a.jsx)("div",{className:"text-sm text-slate-500",children:"Select a node to see details."}),ei&&(0,a.jsxs)("div",{className:"text-xs space-y-2",children:[(0,a.jsx)("div",{className:"text-slate-500",children:ei.data.label||ei.data.type||ei.type}),(null===(e=ei.run)||void 0===e?void 0:e.output)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-slate-500 mb-1",children:"Results"}),(0,a.jsx)("pre",{className:"bg-slate-50 p-2 rounded overflow-x-auto max-h-[200px]",children:JSON.stringify(ei.run.output,null,2)})]}),(null===(t=ei.run)||void 0===t?void 0:t.error)&&(0,a.jsx)("div",{className:"text-rose-600",children:String(ei.run.error)})]})]})]}),(0,a.jsxs)(y,{children:[(0,a.jsx)(w,{className:"pb-2",children:(0,a.jsxs)(_,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),"Run log"]})}),(0,a.jsxs)(S,{className:"space-y-2 max-h-[280px] overflow-y-auto",children:[0===B.length&&(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:["No logs yet. Click ",(0,a.jsx)("span",{className:"font-medium",children:"Run flow"}),"."]}),B.map((e,t)=>(0,a.jsxs)("div",{className:"text-xs flex items-start gap-2",children:[(0,a.jsx)("span",{className:"mt-0.5 w-1.5 h-1.5 rounded-full ".concat("error"===e.level?"bg-rose-500":"bg-emerald-500")}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-slate-500",children:[new Date(e.time).toLocaleTimeString()," • ",(0,a.jsx)("span",{className:"font-mono",children:e.nodeId})]}),(0,a.jsx)("div",{className:"error"===e.level?"text-rose-600":"text-slate-700",children:e.msg})]})]},t))]})]}),(0,a.jsxs)(y,{children:[(0,a.jsx)(w,{className:"pb-2",children:(0,a.jsx)(_,{className:"text-base",children:"Status"})}),(0,a.jsxs)(S,{className:"text-sm",children:[es&&(0,a.jsxs)("div",{className:"text-slate-600",children:["Test ",(0,a.jsx)("span",{className:"font-mono",children:es})]}),en&&(0,a.jsxs)("div",{className:"text-xs text-slate-500 mt-2 space-y-1",children:[(0,a.jsxs)("div",{children:["Status: ",(0,a.jsx)("span",{className:"font-semibold",children:en.status})]}),en.page_url&&(0,a.jsxs)("div",{children:["Page: ",(0,a.jsx)("a",{className:"underline",href:en.page_url,target:"_blank",children:en.page_url})]}),en.campaign_id&&(0,a.jsxs)("div",{children:["Meta campaign: ",(0,a.jsx)("span",{className:"font-mono",children:en.campaign_id})]}),"failed"===en.status&&(0,a.jsxs)("div",{className:"text-rose-600",children:["Failed: ",String((null===(s=en.error)||void 0===s?void 0:s.message)||"Unknown error")]})]}),!en&&(0,a.jsx)("div",{className:"text-xs text-slate-500",children:"Ready."})]})]})]})]}),(0,a.jsx)("footer",{className:"fixed bottom-3 left-0 right-0 flex justify-center",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-white/80 backdrop-blur rounded-full shadow px-3 py-2 border",children:[(0,a.jsx)(O,{nodes:l.nodes}),(0,a.jsx)(A,{className:"mx-1 w-px h-5"}),(0,a.jsxs)(N,{variant:"outline",size:"sm",onClick:eu,disabled:D,children:[(0,a.jsx)(r.Z,{className:"w-4 h-4 mr-1"}),"Run"]}),(0,a.jsxs)(N,{variant:"outline",size:"sm",onClick:()=>alert("Saved!"),children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-1"}),"Save"]}),(0,a.jsxs)(N,{size:"sm",onClick:()=>alert("Published!"),children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),"Publish"]})]})})]})}function O(e){let{nodes:t}=e,s=t.some(e=>"error"===e.run.status),n=t.every(e=>"idle"===e.run.status||"success"===e.run.status);return s?(0,a.jsxs)(k,{className:"bg-rose-100 text-rose-700",children:[(0,a.jsx)(m.Z,{className:"w-3 h-3"}),"Errors"]}):n?(0,a.jsxs)(k,{className:"bg-emerald-100 text-emerald-700",children:[(0,a.jsx)(p.Z,{className:"w-3 h-3"}),"Ready"]}):(0,a.jsx)(k,{className:"bg-amber-100 text-amber-700",children:"Running…"})}function I(e){var t,s,n,i;let{node:r,selected:c,onMouseDown:d,onDelete:o,active:x}=e,m={left:r.x,top:r.y};return(0,a.jsx)("div",{className:"absolute select-none",style:m,onMouseDown:e=>d(e,r),children:(0,a.jsxs)(l.E.div,{layout:!0,className:"rounded-2xl bg-white border ".concat(c?"ring-2 ring-blue-500":"ring-1 ring-slate-200"," shadow ").concat(x?"shadow-[0_0_0_4px_rgba(59,130,246,0.15)]":""," w-[260px]"),children:[(0,a.jsxs)("div",{className:"px-3 py-2 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(k,{className:"border border-blue-200 text-blue-700 bg-blue-50",children:"trigger"===r.type?"Trigger":"Action"})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded ".concat("idle"===(t=r.run.status)?"bg-slate-100 text-slate-600":"running"===t?"bg-amber-100 text-amber-700":"success"===t?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"),children:"idle"===(s=r.run.status)?"idle":"running"===s?"running":"success"===s?"ok":"error"}),(0,a.jsx)("button",{className:"p-1 rounded hover:bg-slate-50",onClick:e=>{e.stopPropagation(),o(r.id)},children:(0,a.jsx)(u.Z,{className:"w-3.5 h-3.5 text-slate-500"})})]})]}),(0,a.jsx)(A,{}),(0,a.jsx)("div",{className:"p-3 text-sm text-slate-700 min-h-[64px]",children:"trigger"===r.type?(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsx)("div",{className:"text-slate-500",children:r.data.topic}),(0,a.jsx)("div",{className:"text-slate-500",children:"Start when product input is ready."})]}):(0,a.jsxs)("div",{className:"text-xs space-y-1",children:[(0,a.jsx)("div",{className:"text-slate-500",children:r.data.label||r.data.type}),(null===(n=r.run)||void 0===n?void 0:n.output)&&(0,a.jsxs)("details",{className:"text-xs mt-1",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-slate-500",children:"Results"}),(0,a.jsx)("pre",{className:"bg-slate-50 p-2 rounded mt-1 overflow-x-auto max-h-[160px]",children:JSON.stringify(r.run.output,null,2)})]}),(null===(i=r.run)||void 0===i?void 0:i.error)&&(0,a.jsx)("div",{className:"text-rose-600",children:String(r.run.error)})]})})]})})}function z(){return(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,_#eef2ff_1px,transparent_1px),linear-gradient(to_bottom,_#eef2ff_1px,transparent_1px)] bg-[size:24px_24px]"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(59,130,246,0.06),transparent_30%),radial-gradient(circle_at_80%_60%,rgba(14,165,233,0.06),transparent_35%)]"})]})}function L(e){let{edge:t,nodes:s,active:n}=e,l=s.find(e=>e.id===t.from),i=s.find(e=>e.id===t.to);if(!l||!i)return null;let r=l.x+240,c=function(e,t,s,a){let n=.4*Math.abs(s-e);return"M ".concat(e," ").concat(t," C ").concat(e+n," ").concat(t,", ").concat(s-n," ").concat(a,", ").concat(s," ").concat(a)}(r,l.y+100,i.x+20,i.y+100);return(0,a.jsx)("svg",{className:"absolute overflow-visible pointer-events-none",style:{left:0,top:0},children:(0,a.jsx)("path",{d:c,className:"fill-none ".concat(n?"stroke-blue-400":"stroke-slate-300"),strokeWidth:n?3:2})})}}},function(e){e.O(0,[171,971,23,744],function(){return e(e.s=8211)}),_N_E=e.O()}]);